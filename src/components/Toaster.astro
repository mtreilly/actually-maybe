---
/**
 * Sonner Toaster component for displaying toast notifications
 * This component should be placed in the layout to enable toast notifications
 */
---

<div id="sonner-toaster-container"></div>

<script>
	import { Toaster } from 'sonner';

	// Initialize Toaster with custom styling
	const container = document.getElementById('sonner-toaster-container');
	if (container) {
		// Create a root for the Toaster
		const root = document.createElement('div');
		container.appendChild(root);

		// The Toaster will be mounted here when toast() is called
		// We just need to ensure sonner is available globally
		if (!window.sonnerToaster) {
			window.sonnerToaster = true;
		}
	}
</script>

<style>
	/* Sonner toast customization for minimalist aesthetic */
	:global(.sonner-toast) {
		background-color: rgb(var(--black));
		color: rgb(243, 244, 246);
		border: 1px solid rgba(var(--gray-light), 0.5);
		border-radius: 6px;
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
		font-size: 0.875rem;
		padding: 0.75rem 1rem;
	}

	:global([data-theme="dark"] .sonner-toast) {
		background-color: rgb(30, 41, 59);
		border-color: rgba(75, 85, 99, 0.5);
	}

	:global(.sonner-success) {
		--sonner-success-color: #10b981;
	}

	:global(.sonner-error) {
		--sonner-error-color: #ef4444;
	}

	:global(.sonner-loading) {
		--sonner-loading-color: var(--accent);
	}

	/* Toast container positioning */
	:global(.sonner-toast-wrapper) {
		margin-bottom: 0.5rem;
	}

	:global(.sonner-toaster) {
		bottom: 1.5rem;
		right: 1.5rem;
	}

	@media (max-width: 640px) {
		:global(.sonner-toaster) {
			bottom: 1rem;
			right: 1rem;
			left: 1rem;
			width: auto;
		}
	}
</style>
